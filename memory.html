<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Memories ğŸ’­</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>Before your giftâ€¦ ğŸ’­</h1>

    <p>ğŸ’– The way you always support me</p>
    <p>ğŸ˜‚ Our random, stupid conversations</p>
    <p>ğŸŒ Every moment weâ€™ve shared</p>
    <p>âœ¨ You make my life better just by being in it</p>

    <button onclick="nextPage()">Finally here it goes â¡ï¸</button>
</div>

<audio id="bg-music" loop>
    <source src="music/beabadoobee - Glue Song (Lyrics).mp3" type="audio/mpeg">
</audio>

<button id="music-toggle" onclick="toggleMusic()" title="Toggle music">ğŸ”Š</button>
<script>
function nextPage() {
    window.location.href = "yes.html";
}

// ğŸµ MUSIC CONTINUITY
const music = document.getElementById('bg-music')

// Try to resume from previous page
const wasPlaying = localStorage.getItem('musicPlaying') === 'true'

if (wasPlaying) {
    const savedTime = localStorage.getItem('musicTime')
    if (savedTime) {
        music.currentTime = savedTime
    }

    music.volume = 0.3
    music.play().catch(() => {
        // fallback: play on user interaction
        document.addEventListener('click', () => {
            music.play().catch(() => {})
        }, { once: true })
    })
}

// Save progress continuously
setInterval(() => {
    if (!music.paused) {
        localStorage.setItem('musicPlaying', 'true')
        localStorage.setItem('musicTime', music.currentTime)
    }
}, 500)

// Toggle button
function toggleMusic() {
    if (music.paused) {
        music.play()
        localStorage.setItem('musicPlaying', 'true')
        document.getElementById('music-toggle').textContent = 'ğŸ”Š'
    } else {
        music.pause()
        localStorage.setItem('musicPlaying', 'false')
        document.getElementById('music-toggle').textContent = 'ğŸ”‡'
    }
}
</script>

</body>
</html>
